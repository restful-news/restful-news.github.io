<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">
    <title>System Design | RESTful News</title>
    <link rel="icon" type="image/png" href="/assets/images/favico.png" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.4.0 -->
<title>System Design | RESTful News</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="System Design" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Retrieve news articles about Australian companies." />
<meta property="og:description" content="Retrieve news articles about Australian companies." />
<link rel="canonical" href="http://localhost:4000/design.html" />
<meta property="og:url" content="http://localhost:4000/design.html" />
<meta property="og:site_name" content="RESTful News" />
<script type="application/ld+json">
{"description":"Retrieve news articles about Australian companies.","@type":"WebPage","url":"http://localhost:4000/design.html","headline":"System Design","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>RESTful News</h1>
        </a>
        <h2>Retrieve news articles about Australian companies.</h2>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="api-design">API Design</h1>

<h2 id="directory-structure">Directory structure</h2>

<h3 id="overview">Overview</h3>

<p>You can customize the <code class="highlighter-rouge">src</code> and <code class="highlighter-rouge">api</code> directories.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/
├─ api/
│  ├─ user/
│  │  ├─ controller.js
│  │  ├─ index.js
│  │  ├─ index.test.js
│  │  ├─ model.js
│  │  └─ model.test.js
│  └─ index.js
├─ services/
│  ├─ express/
│  ├─ facebook/
│  ├─ mongoose/
│  ├─ passport/
│  ├─ sendgrid/
│  └─ your-service/
├─ app.js
├─ config.js
└─ index.js
</code></pre></div></div>

<h3 id="srcapi">src/api/</h3>

<p>Here is where the API endpoints are defined. Each API has its own folder.</p>

<h4 id="srcapisome-endpointmodeljs">src/api/some-endpoint/model.js</h4>

<p>It defines the Mongoose schema and model for the API endpoint. Any changes to the data model should be done here.</p>

<h4 id="srcapisome-endpointcontrollerjs">src/api/some-endpoint/controller.js</h4>

<p>This is the API controller file. It defines the main router middlewares which use the API model.</p>

<h4 id="srcapisome-endpointindexjs">src/api/some-endpoint/index.js</h4>

<p>This is the entry file of the API. It defines the routes using, along other middlewares (like session, validation etc.), the middlewares defined in the <code class="highlighter-rouge">some-endpoint.controller.js</code> file.</p>

<h3 id="services">services/</h3>

<p>Here you can put <code class="highlighter-rouge">helpers</code>, <code class="highlighter-rouge">libraries</code> and other types of modules which you want to use in your APIs.</p>

<h2 id="error-handling">Error handling</h2>

<p>Errors are handled by the <code class="highlighter-rouge">services/error</code> middleware. You can pass errors within an async call by calling <code class="highlighter-rouge">next(error)</code> where error is an Object with a Prototype of error. The APIError constructor function has been provided for creating anticipated operational errors.</p>

<h2 id="logging">Logging</h2>

<p>Logging is achieved via Pino. In development mode we can pipe Node’s stdout into Pino for pretty printing.</p>


        </section>

        <aside id="sidebar">
            
            <a href="/" class="button">
                <small>Site</small>
                Home
            </a>
            <a href="/docs" target="_blank" class="button">
                <small>API</small>
                Docs
            </a>
            <a href="http://localhost:4000/design" class="button">
                <small>System</small>
                Design
            </a>
            <a href="http://localhost:4000/local-install" class="button">
              <small>Local</small>
                Install
            </a>
            <a href="http://localhost:4000/cloud-deploy" class="button">
              <small>Cloud</small>
                Deploy
            </a>
            <!-- <a href="https://github.com/mrchrisjoy/restful-news/archive/master.zip" class="button">
              <small>Download</small>
              .zip file
            </a> -->
            

            
        </aside>
      </div>
    </div>
    <hr />
    <div id="content-wrapper">
      <div class="inner clearfix">
        <div class="footer-block">
          <div class="block">
            <span>RESTful News</span>
            <ul>
              <li><a href="http://localhost:4000/">Homepage</a></li>
              <li><a href="http://localhost:4000/team">Our Team</a></li>
            </ul>
          </div>
          <div class="block">
            <span>Documentation</span>
            <ul>
                <li><a href="http://localhost:4000/docs" target="_blank">API Docs</a></li>
                <li><a href="http://localhost:4000/design">System Design</a></li>
                <li><a href="http://localhost:4000/local-install">Local Install</a></li>
              <li><a href="http://localhost:4000/cloud-deploy">Cloud Deploy</a></li>
            </ul>
          </div>
          <div class="block">
            <span>Projects</span>
            <ul>
              <li><a href="https://github.com/restful-news" target="_blank">Github Org</a></li>
              <li><a href="https://github.com/restful-news/restful-news.github.io" target="_blank">Website</a></li>
              <li><a href="https://github.com/restful-news/restful-news" target="_blank">API</a></li>
            </ul>
          </div>
          <div class="block">
            <span>Apps & Services</span>
            <ul>
              <li><a href="https://insomnia.rest" target="_blank">Insomnia Client</a></li>
              <li><a href="https://app.restfulnews.com/login" target="_blank">Register</a></li>
              <li><a href="https://app.restfulnews.com/signup" target="_blank">Login</a></li>
            </ul>  
          </div>
        </div>
        <small>© Copyright <a href="http://localhost:4000/">RESTful News</a> 2018.</small> 
      </div>
    </div>

    
  </body>
</html>